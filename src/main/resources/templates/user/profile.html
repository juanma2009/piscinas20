<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/extras/spring-security" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Perfil del Usuario - Configuración</title>
  <link href="/style.css" rel="stylesheet"> <!-- Ruta a tu archivo de estilos -->
</head>
<body>
<div class="container">
  <h1>Configuración del Perfil</h1>

  <!-- Actualizar Nombre, Correo y Teléfono -->
  <section>
    <h2>Actualizar Información de Usuario</h2>
    <form method="post" th:action="@{/user/updateProfile}">
      <div class="form-group">
        <label for="name">Nombre Completo:</label>
        <input class="form-control" id="name" name="name" required th:value="${user.name}" type="text">
      </div>

      <div class="form-group">
        <label for="email">Correo Electrónico:</label>
        <input class="form-control" id="email" name="email" required th:value="${user.email}" type="email">
      </div>

      <div class="form-group">
        <label for="phone">Número de Teléfono:</label>
        <input class="form-control" id="phone" name="phone" required th:value="${user.phone}" type="tel">
      </div>

      <button class="btn btn-primary" type="submit">Actualizar Información</button>
    </form>
  </section>

  <!-- Cambiar Contraseña -->
  <section>
    <h2>Cambiar Contraseña</h2>
    <form method="post" th:action="@{/user/changePassword}">
      <div class="form-group">
        <label for="currentPassword">Contraseña Actual:</label>
        <input class="form-control" id="currentPassword" name="currentPassword" required type="password">
      </div>

      <div class="form-group">
        <label for="newPassword">Nueva Contraseña:</label>
        <input class="form-control" id="newPassword" name="newPassword" required type="password">
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Nueva Contraseña:</label>
        <input class="form-control" id="confirmPassword" name="confirmPassword" required type="password">
      </div>

      <button class="btn btn-primary" type="submit">Cambiar Contraseña</button>
    </form>
  </section>

  <!-- Configuración de Autenticación de Dos Factores (2FA) -->
  <section>
    <h2>Autenticación de Dos Factores (2FA)</h2>
    <form method="post" th:action="@{/user/twoFactor}">
      <div class="form-group">
        <label>Habilitar 2FA:</label>
        <input class="form-check-input" id="enable2FA" name="enable2FA" th:checked="${user.twoFactorEnabled}"
               type="checkbox">
        <label class="form-check-label" for="enable2FA">Activar Autenticación de Dos Factores</label>
      </div>

      <button class="btn btn-primary" type="submit">Actualizar 2FA</button>
    </form>
  </section>
</div>
</body>
</html>
